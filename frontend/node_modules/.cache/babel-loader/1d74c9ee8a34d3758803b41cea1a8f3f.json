{"ast":null,"code":"var _jsxFileName = \"C:\\\\react\\\\my-app\\\\frontend\\\\src\\\\Screen\\\\Map.js\";\nimport React from 'react';\nimport { withGoogleMap, GoogleMap, withScriptjs, InfoWindow, Marker } from \"react-google-maps\";\nimport Geocode from \"react-geocode\";\nimport Autocomplete from 'react-google-autocomplete';\nimport { Descriptions } from 'antd';\n\nconst {\n  MarkerWithLabel\n} = require(\"react-google-maps/lib/components/addons/MarkerWithLabel\");\n\nGeocode.setApiKey(\"AIzaSyALVjLwOIM1gf7EzdJJVmWLKdLP-yZGTcw\");\nGeocode.enableDebug();\n\nclass Map extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      address: '',\n      city: '',\n      area: '',\n      state: '',\n      zoom: 15,\n      height: 400,\n      mapPosition: {\n        lat: 31.6333308,\n        lng: 35.2166658\n      },\n      markerPosition: {\n        lat: 31.6333308,\n        lng: 35.2166658\n      }\n    };\n\n    this.getCity = addressArray => {\n      let city = '';\n\n      for (let i = 0; i < addressArray.length; i++) {\n        if (addressArray[i].types[0] && 'administrative_area_level_2' === addressArray[i].types[0]) {\n          city = addressArray[i].long_name;\n          return city;\n        }\n      }\n    };\n\n    this.getArea = addressArray => {\n      let area = '';\n\n      for (let i = 0; i < addressArray.length; i++) {\n        if (addressArray[i].types[0]) {\n          for (let j = 0; j < addressArray[i].types.length; j++) {\n            if ('sublocality_level_1' === addressArray[i].types[j] || 'locality' === addressArray[i].types[j]) {\n              area = addressArray[i].long_name;\n              return area;\n            }\n          }\n        }\n      }\n    };\n\n    this.getState = addressArray => {\n      let state = '';\n\n      for (let i = 0; i < addressArray.length; i++) {\n        for (let i = 0; i < addressArray.length; i++) {\n          if (addressArray[i].types[0] && 'administrative_area_level_1' === addressArray[i].types[0]) {\n            state = addressArray[i].long_name;\n            return state;\n          }\n        }\n      }\n    };\n\n    this.onChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.onInfoWindowClose = event => {};\n\n    this.onMarkerDragEnd = event => {\n      let newLat = event.latLng.lat(),\n          newLng = event.latLng.lng();\n      Geocode.fromLatLng(newLat, newLng).then(response => {\n        const address = response.results[0].formatted_address,\n              addressArray = response.results[0].address_components,\n              city = this.getCity(addressArray),\n              area = this.getArea(addressArray),\n              state = this.getState(addressArray);\n        this.setState({\n          address: address ? address : '',\n          area: area ? area : '',\n          city: city ? city : '',\n          state: state ? state : '',\n          markerPosition: {\n            lat: newLat,\n            lng: newLng\n          },\n          mapPosition: {\n            lat: newLat,\n            lng: newLng\n          }\n        });\n      }, error => {\n        console.error(error);\n      });\n    };\n\n    this.onPlaceSelected = place => {\n      console.log('plc', place);\n      const address = place.formatted_address,\n            addressArray = place.address_components,\n            city = this.getCity(addressArray),\n            area = this.getArea(addressArray),\n            state = this.getState(addressArray),\n            latValue = place.geometry.location.lat(),\n            lngValue = place.geometry.location.lng();\n      console.log('latvalue', latValue);\n      console.log('lngValue', lngValue); // Set these values in the state.\n\n      this.setState({\n        address: address ? address : '',\n        area: area ? area : '',\n        city: city ? city : '',\n        state: state ? state : '',\n        markerPosition: {\n          lat: latValue,\n          lng: lngValue\n        },\n        mapPosition: {\n          lat: latValue,\n          lng: lngValue\n        }\n      });\n    };\n  }\n\n  componentDidMount() {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(position => {\n        this.setState({\n          mapPosition: {\n            lat: position.coords.latitude,\n            lng: position.coords.longitude\n          },\n          markerPosition: {\n            lat: position.coords.latitude,\n            lng: position.coords.longitude\n          }\n        }, () => {\n          Geocode.fromLatLng(position.coords.latitude, position.coords.longitude).then(response => {\n            console.log(response);\n            const address = response.results[0].formatted_address,\n                  addressArray = response.results[0].address_components,\n                  city = this.getCity(addressArray),\n                  area = this.getArea(addressArray),\n                  state = this.getState(addressArray);\n            console.log('city', city, area, state);\n            this.setState({\n              address: address ? address : '',\n              area: area ? area : '',\n              city: city ? city : '',\n              state: state ? state : ''\n            });\n          }, error => {\n            console.error(error);\n          });\n        });\n      });\n    } else {\n      console.error(\"Geolocation is not supported by this browser!\");\n    }\n  }\n\n  // const AsyncMap = compose(\n  //     withProps({\n  //         googleMapURL: \"https://maps.googleapis.com/maps/api/js?key=AIzaSyALVjLwOIM1gf7EzdJJVmWLKdLP-yZGTcw&v=3.exp&libraries=geometry,drawing,places\",\n  //         loadingElement: <div style={{ height: `100%` }} />,\n  //         containerElement: <div style={{ height: `400px` }} />,\n  //         mapElement: <div style={{ height: `100%` }} />,\n  //     }),\n  //     withScriptjs,\n  //     withGoogleMap\n  // )((props) =>\n  //     <GoogleMap\n  render() {\n    const AsyncMap = withScriptjs(withGoogleMap(props => /*#__PURE__*/React.createElement(GoogleMap, {\n      defaultZoom: this.state.zoom,\n      defaultCenter: {\n        lat: this.state.mapPosition.lat,\n        lng: this.state.mapPosition.lng\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Marker, {\n      google: this.props.google,\n      name: 'Dolores park',\n      draggable: true,\n      onDragEnd: this.onMarkerDragEnd,\n      position: {\n        lat: this.state.markerPosition.lat,\n        lng: this.state.markerPosition.lng\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(InfoWindow, {\n      onClose: this.onInfoWindowClose,\n      position: {\n        lat: this.state.markerPosition.lat + 0.0018,\n        lng: this.state.markerPosition.lng\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        padding: 0,\n        margin: 0\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 33\n      }\n    }, this.state.address))), /*#__PURE__*/React.createElement(Marker, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(Autocomplete, {\n      style: {\n        width: '100%',\n        height: '40px',\n        paddingLeft: '16px',\n        marginTop: '2px',\n        marginBottom: '2rem'\n      },\n      onPlaceSelected: this.onPlaceSelected,\n      types: ['(regions)'],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 25\n      }\n    }))));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        padding: '1rem',\n        margin: '0 auto',\n        maxWidth: 1000\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 17\n      }\n    }, \"Google Map Basic\"), /*#__PURE__*/React.createElement(Descriptions, {\n      bordered: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Descriptions.Item, {\n      label: \"City\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 21\n      }\n    }, this.state.city), /*#__PURE__*/React.createElement(Descriptions.Item, {\n      label: \"Area\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 21\n      }\n    }, this.state.area), /*#__PURE__*/React.createElement(Descriptions.Item, {\n      label: \"State\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 21\n      }\n    }, this.state.state), /*#__PURE__*/React.createElement(Descriptions.Item, {\n      label: \"Address\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 21\n      }\n    }, this.state.address)), /*#__PURE__*/React.createElement(AsyncMap, {\n      googleMapURL: \"https://maps.googleapis.com/maps/api/js?key=AIzaSyALVjLwOIM1gf7EzdJJVmWLKdLP-yZGTcw&libraries=places\",\n      loadingElement: /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          height: `100%`\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 25\n        }\n      }),\n      containerElement: /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          height: this.state.height\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 25\n        }\n      }),\n      mapElement: /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          height: `100%`\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 25\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nexport default Map;","map":{"version":3,"sources":["C:/react/my-app/frontend/src/Screen/Map.js"],"names":["React","withGoogleMap","GoogleMap","withScriptjs","InfoWindow","Marker","Geocode","Autocomplete","Descriptions","MarkerWithLabel","require","setApiKey","enableDebug","Map","Component","state","address","city","area","zoom","height","mapPosition","lat","lng","markerPosition","getCity","addressArray","i","length","types","long_name","getArea","j","getState","onChange","event","setState","target","name","value","onInfoWindowClose","onMarkerDragEnd","newLat","latLng","newLng","fromLatLng","then","response","results","formatted_address","address_components","error","console","onPlaceSelected","place","log","latValue","geometry","location","lngValue","componentDidMount","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","render","AsyncMap","props","google","padding","margin","width","paddingLeft","marginTop","marginBottom","maxWidth"],"mappings":"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","sourcesContent":["\r\n\r\nimport React from 'react';\r\nimport { withGoogleMap, GoogleMap, withScriptjs, InfoWindow, Marker } from \"react-google-maps\";\r\nimport Geocode from \"react-geocode\";\r\nimport Autocomplete from 'react-google-autocomplete';\r\nimport { Descriptions } from 'antd';\r\n\r\nconst { MarkerWithLabel } = require(\"react-google-maps/lib/components/addons/MarkerWithLabel\");\r\n\r\n\r\nGeocode.setApiKey(\"AIzaSyALVjLwOIM1gf7EzdJJVmWLKdLP-yZGTcw\");\r\nGeocode.enableDebug();\r\n\r\nclass Map extends React.Component {\r\n\r\n    state = {\r\n        address: '',\r\n        city: '',\r\n        area: '',\r\n        state: '',\r\n        zoom: 15,\r\n        height: 400,\r\n        mapPosition: {\r\n            lat: 31.6333308,\r\n            lng: 35.2166658,\r\n        },\r\n\r\n        markerPosition: {\r\n            lat: 31.6333308,\r\n            lng: 35.2166658,\r\n        }\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        if (navigator.geolocation) {\r\n            navigator.geolocation.getCurrentPosition(position => {\r\n                this.setState({\r\n                    mapPosition: {\r\n                        lat: position.coords.latitude,\r\n                        lng: position.coords.longitude,\r\n                    },\r\n                    markerPosition: {\r\n                        lat: position.coords.latitude,\r\n                        lng: position.coords.longitude,\r\n                    }\r\n                },\r\n                    () => {\r\n                        Geocode.fromLatLng(position.coords.latitude, position.coords.longitude).then(\r\n                            response => {\r\n                                console.log(response)\r\n                                const address = response.results[0].formatted_address,\r\n                                    addressArray = response.results[0].address_components,\r\n                                    city = this.getCity(addressArray),\r\n                                    area = this.getArea(addressArray),\r\n                                    state = this.getState(addressArray);\r\n                                console.log('city', city, area, state);\r\n                                this.setState({\r\n                                    address: (address) ? address : '',\r\n                                    area: (area) ? area : '',\r\n                                    city: (city) ? city : '',\r\n                                    state: (state) ? state : '',\r\n                                })\r\n                            },\r\n                            error => {\r\n                                console.error(error);\r\n                            }\r\n                        );\r\n\r\n                    })\r\n            });\r\n        } else {\r\n            console.error(\"Geolocation is not supported by this browser!\");\r\n        }\r\n    };\r\n\r\n    // shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n    //     if (\r\n    //         this.state.markerPosition.lat !== this.state.center.lat ||\r\n    //         this.state.address !== nextState.address ||\r\n    //         this.state.city !== nextState.city ||\r\n    //         this.state.area !== nextState.area ||\r\n    //         this.state.state !== nextState.state\r\n    //     ) {\r\n    //         return true\r\n    //     } else if (this.state.mapPosition.lat === nextState.mapPosition.lat) {\r\n    //         return false\r\n    //     }\r\n    // }\r\n\r\n    getCity = (addressArray) => {\r\n        let city = '';\r\n        for (let i = 0; i < addressArray.length; i++) {\r\n            if (addressArray[i].types[0] && 'administrative_area_level_2' === addressArray[i].types[0]) {\r\n                city = addressArray[i].long_name;\r\n                return city;\r\n            }\r\n        }\r\n    };\r\n\r\n    getArea = (addressArray) => {\r\n        let area = '';\r\n        for (let i = 0; i < addressArray.length; i++) {\r\n            if (addressArray[i].types[0]) {\r\n                for (let j = 0; j < addressArray[i].types.length; j++) {\r\n                    if ('sublocality_level_1' === addressArray[i].types[j] || 'locality' === addressArray[i].types[j]) {\r\n                        area = addressArray[i].long_name;\r\n                        return area;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    getState = (addressArray) => {\r\n        let state = '';\r\n        for (let i = 0; i < addressArray.length; i++) {\r\n            for (let i = 0; i < addressArray.length; i++) {\r\n                if (addressArray[i].types[0] && 'administrative_area_level_1' === addressArray[i].types[0]) {\r\n                    state = addressArray[i].long_name;\r\n                    return state;\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    onChange = (event) => {\r\n        this.setState({ [event.target.name]: event.target.value });\r\n    };\r\n\r\n    onInfoWindowClose = (event) => { };\r\n\r\n    onMarkerDragEnd = (event) => {\r\n        let newLat = event.latLng.lat(),\r\n            newLng = event.latLng.lng();\r\n\r\n        Geocode.fromLatLng(newLat, newLng).then(\r\n            response => {\r\n                const address = response.results[0].formatted_address,\r\n                    addressArray = response.results[0].address_components,\r\n                    city = this.getCity(addressArray),\r\n                    area = this.getArea(addressArray),\r\n                    state = this.getState(addressArray);\r\n                this.setState({\r\n                    address: (address) ? address : '',\r\n                    area: (area) ? area : '',\r\n                    city: (city) ? city : '',\r\n                    state: (state) ? state : '',\r\n                    markerPosition: {\r\n                        lat: newLat,\r\n                        lng: newLng\r\n                    },\r\n                    mapPosition: {\r\n                        lat: newLat,\r\n                        lng: newLng\r\n                    },\r\n                })\r\n            },\r\n            error => {\r\n                console.error(error);\r\n            }\r\n        );\r\n    };\r\n\r\n    onPlaceSelected = (place) => {\r\n        console.log('plc', place);\r\n        const address = place.formatted_address,\r\n            addressArray = place.address_components,\r\n            city = this.getCity(addressArray),\r\n            area = this.getArea(addressArray),\r\n            state = this.getState(addressArray),\r\n            latValue = place.geometry.location.lat(),\r\n            lngValue = place.geometry.location.lng();\r\n\r\n        console.log('latvalue', latValue)\r\n        console.log('lngValue', lngValue)\r\n\r\n        // Set these values in the state.\r\n        this.setState({\r\n            address: (address) ? address : '',\r\n            area: (area) ? area : '',\r\n            city: (city) ? city : '',\r\n            state: (state) ? state : '',\r\n            markerPosition: {\r\n                lat: latValue,\r\n                lng: lngValue\r\n            },\r\n            mapPosition: {\r\n                lat: latValue,\r\n                lng: lngValue\r\n            },\r\n        })\r\n    };\r\n\r\n    // const AsyncMap = compose(\r\n    //     withProps({\r\n    //         googleMapURL: \"https://maps.googleapis.com/maps/api/js?key=AIzaSyALVjLwOIM1gf7EzdJJVmWLKdLP-yZGTcw&v=3.exp&libraries=geometry,drawing,places\",\r\n    //         loadingElement: <div style={{ height: `100%` }} />,\r\n    //         containerElement: <div style={{ height: `400px` }} />,\r\n    //         mapElement: <div style={{ height: `100%` }} />,\r\n    //     }),\r\n    //     withScriptjs,\r\n    //     withGoogleMap\r\n    // )((props) =>\r\n    //     <GoogleMap\r\n\r\n    render() {\r\n        const AsyncMap = withScriptjs(\r\n            withGoogleMap(\r\n                props => (\r\n                    <GoogleMap\r\n                        defaultZoom={this.state.zoom}\r\n                        defaultCenter={{ lat: this.state.mapPosition.lat, lng: this.state.mapPosition.lng }}\r\n                    >\r\n                        {/* InfoWindow on top of marker */}\r\n\r\n                        {/*Marker*/}\r\n                        <Marker\r\n                            google={this.props.google}\r\n                            name={'Dolores park'}\r\n                            draggable={true}\r\n                            onDragEnd={this.onMarkerDragEnd}\r\n                            position={{ lat: this.state.markerPosition.lat, lng: this.state.markerPosition.lng }}\r\n                        />\r\n                        <InfoWindow\r\n                            onClose={this.onInfoWindowClose}\r\n                            position={{ lat: (this.state.markerPosition.lat + 0.0018), lng: this.state.markerPosition.lng }}\r\n                        >\r\n                            <div>\r\n                                <span style={{ padding: 0, margin: 0 }}>{this.state.address}</span>\r\n                            </div>\r\n                        </InfoWindow>\r\n                        <Marker />\r\n\r\n                        {/* <MarkerWithLabel\r\n                            position={{ lat: -34.397, lng: 150.644 }}\r\n                            labelAnchor={new google.maps.Point(0, 0)}\r\n                            labelStyle={{ backgroundColor: \"yellow\", fontSize: \"32px\", padding: \"16px\" }}\r\n                        >\r\n                            <div>Hello There!</div>\r\n                        </MarkerWithLabel> */}\r\n\r\n\r\n                        {/* For Auto complete Search Box */}\r\n                        <Autocomplete\r\n                            style={{\r\n                                width: '100%',\r\n                                height: '40px',\r\n                                paddingLeft: '16px',\r\n                                marginTop: '2px',\r\n                                marginBottom: '2rem'\r\n                            }}\r\n                            onPlaceSelected={this.onPlaceSelected}\r\n                            types={['(regions)']}\r\n                        />\r\n                    </GoogleMap>\r\n                )\r\n            )\r\n        );\r\n\r\n        return (\r\n            <div style={{ padding: '1rem', margin: '0 auto', maxWidth: 1000 }}>\r\n                <h1>Google Map Basic</h1>\r\n                <Descriptions bordered>\r\n                    <Descriptions.Item label=\"City\">{this.state.city}</Descriptions.Item>\r\n                    <Descriptions.Item label=\"Area\">{this.state.area}</Descriptions.Item>\r\n                    <Descriptions.Item label=\"State\">{this.state.state}</Descriptions.Item>\r\n                    <Descriptions.Item label=\"Address\">{this.state.address}</Descriptions.Item>\r\n                </Descriptions>\r\n\r\n                <AsyncMap\r\n                    googleMapURL=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyALVjLwOIM1gf7EzdJJVmWLKdLP-yZGTcw&libraries=places\"\r\n                    loadingElement={\r\n                        <div style={{ height: `100%` }} />\r\n                    }\r\n                    containerElement={\r\n                        <div style={{ height: this.state.height }} />\r\n                    }\r\n                    mapElement={\r\n                        <div style={{ height: `100%` }} />\r\n                    }\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default Map;"]},"metadata":{},"sourceType":"module"}